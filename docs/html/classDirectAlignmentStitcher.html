<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vertical Stitching: DirectAlignmentStitcher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Vertical Stitching
   </div>
   <div id="projectbrief">Library of CT reconstructions stitching algorithms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classDirectAlignmentStitcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">DirectAlignmentStitcher Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract base stitcher class for all direct alignment algorithms.  
 <a href="classDirectAlignmentStitcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="direct__alignment__stitcher_8h_source.html">direct_alignment_stitcher.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for DirectAlignmentStitcher:</div>
<div class="dyncontent">
<div class="center"><img src="classDirectAlignmentStitcher__inherit__graph.png" border="0" usemap="#aDirectAlignmentStitcher_inherit__map" alt="Inheritance graph"/></div>
<map name="aDirectAlignmentStitcher_inherit__map" id="aDirectAlignmentStitcher_inherit__map">
<area shape="rect" title="Abstract base stitcher class for all direct alignment algorithms." alt="" coords="13,80,191,107"/>
<area shape="rect" href="classL2DirectAlignmentStitcher.html" title=" " alt="" coords="5,155,199,181"/>
<area shape="rect" href="classStitcherImpl.html" title="Abstract base stitcher class." alt="" coords="51,5,153,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for DirectAlignmentStitcher:</div>
<div class="dyncontent">
<div class="center"><img src="classDirectAlignmentStitcher__coll__graph.png" border="0" usemap="#aDirectAlignmentStitcher_coll__map" alt="Collaboration graph"/></div>
<map name="aDirectAlignmentStitcher_coll__map" id="aDirectAlignmentStitcher_coll__map">
<area shape="rect" title="Abstract base stitcher class for all direct alignment algorithms." alt="" coords="5,80,184,107"/>
<area shape="rect" href="classStitcherImpl.html" title="Abstract base stitcher class." alt="" coords="44,5,145,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:adc74b7c64d78567661bb81b8936695c8"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDirectAlignmentStitcher.html#adc74b7c64d78567661bb81b8936695c8">kernel</a> (const float a, const float b)=0</td></tr>
<tr class="memdesc:adc74b7c64d78567661bb81b8936695c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements the particular metrics. Must be overrided.  <a href="classDirectAlignmentStitcher.html#adc74b7c64d78567661bb81b8936695c8">More...</a><br /></td></tr>
<tr class="separator:adc74b7c64d78567661bb81b8936695c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57b1f05a8c3b2a5f35c1c0569a6fdace"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDirectAlignmentStitcher.html#a57b1f05a8c3b2a5f35c1c0569a6fdace">countDifference</a> (const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_1, const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_2, const int overlap)</td></tr>
<tr class="memdesc:a57b1f05a8c3b2a5f35c1c0569a6fdace"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates <a class="el" href="classDirectAlignmentStitcher.html#adc74b7c64d78567661bb81b8936695c8" title="Implements the particular metrics. Must be overrided.">kernel()</a> metric on two reconstructions overlap.  <a href="classDirectAlignmentStitcher.html#a57b1f05a8c3b2a5f35c1c0569a6fdace">More...</a><br /></td></tr>
<tr class="separator:a57b1f05a8c3b2a5f35c1c0569a6fdace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57616c68a87aea8412f2c0af37a011fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDirectAlignmentStitcher.html#a57616c68a87aea8412f2c0af37a011fb">estimateStitchParams</a> (const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_1, <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_2) override</td></tr>
<tr class="memdesc:a57616c68a87aea8412f2c0af37a011fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overrides <a class="el" href="classStitcherImpl.html#a15138bdc5faf1f3ed2180af684229699" title="Gives estimated stitch params.">StitcherImpl::estimateStitchParams()</a>. Implements direct alignment algorithm.  <a href="classDirectAlignmentStitcher.html#a57616c68a87aea8412f2c0af37a011fb">More...</a><br /></td></tr>
<tr class="separator:a57616c68a87aea8412f2c0af37a011fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classStitcherImpl"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classStitcherImpl')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classStitcherImpl.html">StitcherImpl</a></td></tr>
<tr class="memitem:a1277dae78df2382bd8ddc7aa24ee5aa4 inherit pro_methods_classStitcherImpl"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structVoxelContainer_1_1Range.html">VoxelContainer::Range</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStitcherImpl.html#a1277dae78df2382bd8ddc7aa24ee5aa4">getStitchedRange</a> (const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_1, const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_2)</td></tr>
<tr class="memdesc:a1277dae78df2382bd8ddc7aa24ee5aa4 inherit pro_methods_classStitcherImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives the common range of two different reconstruction.  <a href="classStitcherImpl.html#a1277dae78df2382bd8ddc7aa24ee5aa4">More...</a><br /></td></tr>
<tr class="separator:a1277dae78df2382bd8ddc7aa24ee5aa4 inherit pro_methods_classStitcherImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_methods_classStitcherImpl"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classStitcherImpl')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classStitcherImpl.html">StitcherImpl</a></td></tr>
<tr class="memitem:a98a43fe120f2d4357c33b7013c3f139c inherit pub_methods_classStitcherImpl"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStitcherImpl.html#a98a43fe120f2d4357c33b7013c3f139c">stitch</a> (const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_1, <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_2)</td></tr>
<tr class="memdesc:a98a43fe120f2d4357c33b7013c3f139c inherit pub_methods_classStitcherImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stitches two reconstructions into one.  <a href="classStitcherImpl.html#a98a43fe120f2d4357c33b7013c3f139c">More...</a><br /></td></tr>
<tr class="separator:a98a43fe120f2d4357c33b7013c3f139c inherit pub_methods_classStitcherImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a887b59e9f85afcd66389d8a0d05bb0bc inherit pub_methods_classStitcherImpl"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStitcherImpl.html#a887b59e9f85afcd66389d8a0d05bb0bc">stitch</a> (std::vector&lt; std::shared_ptr&lt; <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &gt;&gt; &amp;partialScans)</td></tr>
<tr class="memdesc:a887b59e9f85afcd66389d8a0d05bb0bc inherit pub_methods_classStitcherImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stitches several reconstructions into one.  <a href="classStitcherImpl.html#a887b59e9f85afcd66389d8a0d05bb0bc">More...</a><br /></td></tr>
<tr class="separator:a887b59e9f85afcd66389d8a0d05bb0bc inherit pub_methods_classStitcherImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract base stitcher class for all direct alignment algorithms. </p>
<p>This class implements the base logic of direct (or pixel) alignment stitching algorithms moving one reconstruction relatively to another one and calculating some metric on its overlay volume. In this version only vertical movement is implemented. Metrics can be defined in the inheritors by overloading the <a class="el" href="classDirectAlignmentStitcher.html#adc74b7c64d78567661bb81b8936695c8" title="Implements the particular metrics. Must be overrided.">kernel(const float, const float)</a> function. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a57b1f05a8c3b2a5f35c1c0569a6fdace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57b1f05a8c3b2a5f35c1c0569a6fdace">&#9670;&nbsp;</a></span>countDifference()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float DirectAlignmentStitcher::countDifference </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;&#160;</td>
          <td class="paramname"><em>scan_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;&#160;</td>
          <td class="paramname"><em>scan_2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>overlap</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calculates <a class="el" href="classDirectAlignmentStitcher.html#adc74b7c64d78567661bb81b8936695c8" title="Implements the particular metrics. Must be overrided.">kernel()</a> metric on two reconstructions overlap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">scan_1</td><td>First reconstruction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scan_1</td><td>Second reconstruction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">overlap</td><td>Vertical offset of one reconstruction relatively to another </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Common range. </dd></dl>

</div>
</div>
<a id="a57616c68a87aea8412f2c0af37a011fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57616c68a87aea8412f2c0af37a011fb">&#9670;&nbsp;</a></span>estimateStitchParams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void DirectAlignmentStitcher::estimateStitchParams </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;&#160;</td>
          <td class="paramname"><em>scan_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;&#160;</td>
          <td class="paramname"><em>scan_2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overrides <a class="el" href="classStitcherImpl.html#a15138bdc5faf1f3ed2180af684229699" title="Gives estimated stitch params.">StitcherImpl::estimateStitchParams()</a>. Implements direct alignment algorithm. </p>
<p>Goes through range of vertical overlaps searching for the optimal one which gives the smallest <a class="el" href="classDirectAlignmentStitcher.html#a57b1f05a8c3b2a5f35c1c0569a6fdace" title="Calculates kernel() metric on two reconstructions overlap.">countDifference()</a> result.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">scan_1</td><td>First reconstruction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scan_1</td><td>Second reconstruction </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classStitcherImpl.html#a15138bdc5faf1f3ed2180af684229699">StitcherImpl</a>.</p>

</div>
</div>
<a id="adc74b7c64d78567661bb81b8936695c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc74b7c64d78567661bb81b8936695c8">&#9670;&nbsp;</a></span>kernel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual float DirectAlignmentStitcher::kernel </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements the particular metrics. Must be overrided. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">a</td><td>First voxel value </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">b</td><td>Second voxel value </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Metrics value. </dd></dl>

<p>Implemented in <a class="el" href="classL2DirectAlignmentStitcher.html#a35d90a382c8bdeea80ef1a25feb11e6b">L2DirectAlignmentStitcher</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/egor/projects/vertical_stitching/src/stitcher/<a class="el" href="direct__alignment__stitcher_8h_source.html">direct_alignment_stitcher.h</a></li>
<li>/home/egor/projects/vertical_stitching/src/stitcher/direct_alignment_stitcher.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
