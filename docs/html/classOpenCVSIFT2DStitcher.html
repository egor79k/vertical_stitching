<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Vertical Stitching: OpenCVSIFT2DStitcher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Vertical Stitching
   </div>
   <div id="projectbrief">Library of CT reconstructions stitching algorithms</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classOpenCVSIFT2DStitcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OpenCVSIFT2DStitcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Stitcher class based on the SIFT algorithm from OpenCV.  
 <a href="classOpenCVSIFT2DStitcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="opencv__sift__2d__stitcher_8h_source.html">opencv_sift_2d_stitcher.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for OpenCVSIFT2DStitcher:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenCVSIFT2DStitcher__inherit__graph.png" border="0" usemap="#aOpenCVSIFT2DStitcher_inherit__map" alt="Inheritance graph"/></div>
<map name="aOpenCVSIFT2DStitcher_inherit__map" id="aOpenCVSIFT2DStitcher_inherit__map">
<area shape="rect" title="Stitcher class based on the SIFT algorithm from OpenCV." alt="" coords="5,80,175,107"/>
<area shape="rect" href="classStitcherImpl.html" title="Abstract base stitcher class." alt="" coords="39,5,141,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for OpenCVSIFT2DStitcher:</div>
<div class="dyncontent">
<div class="center"><img src="classOpenCVSIFT2DStitcher__coll__graph.png" border="0" usemap="#aOpenCVSIFT2DStitcher_coll__map" alt="Collaboration graph"/></div>
<map name="aOpenCVSIFT2DStitcher_coll__map" id="aOpenCVSIFT2DStitcher_coll__map">
<area shape="rect" title="Stitcher class based on the SIFT algorithm from OpenCV." alt="" coords="5,80,175,107"/>
<area shape="rect" href="classStitcherImpl.html" title="Abstract base stitcher class." alt="" coords="39,5,141,32"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a7966fad8a90d12758dc3a9839bd5e4aa"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenCVSIFT2DStitcher.html#a7966fad8a90d12758dc3a9839bd5e4aa">getMedian</a> (std::vector&lt; float &gt; &amp;array)</td></tr>
<tr class="memdesc:a7966fad8a90d12758dc3a9839bd5e4aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives the median of an array.  <a href="classOpenCVSIFT2DStitcher.html#a7966fad8a90d12758dc3a9839bd5e4aa">More...</a><br /></td></tr>
<tr class="separator:a7966fad8a90d12758dc3a9839bd5e4aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af13e81dee1579d499f51ed0663b1431b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOpenCVSIFT2DStitcher.html#af13e81dee1579d499f51ed0663b1431b">estimateStitchParams</a> (const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_1, <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_2) override</td></tr>
<tr class="memdesc:af13e81dee1579d499f51ed0663b1431b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Overrides <a class="el" href="classStitcherImpl.html#a15138bdc5faf1f3ed2180af684229699" title="Gives estimated stitch params.">StitcherImpl::estimateStitchParams()</a>. Implements stitching algorithm based on SIFT from <a href="https://opencv.org/">OpenCV</a> library.  <a href="classOpenCVSIFT2DStitcher.html#af13e81dee1579d499f51ed0663b1431b">More...</a><br /></td></tr>
<tr class="separator:af13e81dee1579d499f51ed0663b1431b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classStitcherImpl"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classStitcherImpl')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classStitcherImpl.html">StitcherImpl</a></td></tr>
<tr class="memitem:a1277dae78df2382bd8ddc7aa24ee5aa4 inherit pro_methods_classStitcherImpl"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structVoxelContainer_1_1Range.html">VoxelContainer::Range</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStitcherImpl.html#a1277dae78df2382bd8ddc7aa24ee5aa4">getStitchedRange</a> (const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_1, const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_2)</td></tr>
<tr class="memdesc:a1277dae78df2382bd8ddc7aa24ee5aa4 inherit pro_methods_classStitcherImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gives the common range of two different reconstruction.  <a href="classStitcherImpl.html#a1277dae78df2382bd8ddc7aa24ee5aa4">More...</a><br /></td></tr>
<tr class="separator:a1277dae78df2382bd8ddc7aa24ee5aa4 inherit pro_methods_classStitcherImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_methods_classStitcherImpl"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classStitcherImpl')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classStitcherImpl.html">StitcherImpl</a></td></tr>
<tr class="memitem:a98a43fe120f2d4357c33b7013c3f139c inherit pub_methods_classStitcherImpl"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStitcherImpl.html#a98a43fe120f2d4357c33b7013c3f139c">stitch</a> (const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_1, <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;scan_2)</td></tr>
<tr class="memdesc:a98a43fe120f2d4357c33b7013c3f139c inherit pub_methods_classStitcherImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stitches two reconstructions into one.  <a href="classStitcherImpl.html#a98a43fe120f2d4357c33b7013c3f139c">More...</a><br /></td></tr>
<tr class="separator:a98a43fe120f2d4357c33b7013c3f139c inherit pub_methods_classStitcherImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a887b59e9f85afcd66389d8a0d05bb0bc inherit pub_methods_classStitcherImpl"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStitcherImpl.html#a887b59e9f85afcd66389d8a0d05bb0bc">stitch</a> (std::vector&lt; std::shared_ptr&lt; <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &gt;&gt; &amp;partialScans)</td></tr>
<tr class="memdesc:a887b59e9f85afcd66389d8a0d05bb0bc inherit pub_methods_classStitcherImpl"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stitches several reconstructions into one.  <a href="classStitcherImpl.html#a887b59e9f85afcd66389d8a0d05bb0bc">More...</a><br /></td></tr>
<tr class="separator:a887b59e9f85afcd66389d8a0d05bb0bc inherit pub_methods_classStitcherImpl"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Stitcher class based on the SIFT algorithm from OpenCV. </p>
<p>Logic described in details in <a class="el" href="classOpenCVSIFT2DStitcher.html#af13e81dee1579d499f51ed0663b1431b" title="Overrides StitcherImpl::estimateStitchParams(). Implements stitching algorithm based on SIFT from Ope...">estimateStitchParams()</a> function. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af13e81dee1579d499f51ed0663b1431b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af13e81dee1579d499f51ed0663b1431b">&#9670;&nbsp;</a></span>estimateStitchParams()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OpenCVSIFT2DStitcher::estimateStitchParams </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;&#160;</td>
          <td class="paramname"><em>scan_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVoxelContainer.html">VoxelContainer</a> &amp;&#160;</td>
          <td class="paramname"><em>scan_2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Overrides <a class="el" href="classStitcherImpl.html#a15138bdc5faf1f3ed2180af684229699" title="Gives estimated stitch params.">StitcherImpl::estimateStitchParams()</a>. Implements stitching algorithm based on SIFT from <a href="https://opencv.org/">OpenCV</a> library. </p>
<p>Finds keypoints on the corresponding vertical slice planes and matches them using brute force method. Median of the vertical distance between the matched pairs is taken as an optimal vertical overlap. After that, the corresponding horizontal planes keypoints are matched and similarly horizontal offsets sets as medians of distances between keypoints. This version uses the following vertical planes, (listed as plane id (from <a class="el" href="classVoxelContainer.html#a3dd5375dd5a0d9268ad7515be3161ca5" title="Gives a specified slice of the reconstruction.">VoxelContainer::getSlice()</a>) and slice level): (0, 0.4), (0, 0.5), (0, 0.6), (1, 0.4), (1, 0.5), (1, 0.6), (3, 0), (4, 0). And horizontal: (2, 0.3), (2, 0.4), (2, 0.5), (2, 0.6), (2, 0.7).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">scan_1</td><td>First reconstruction </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scan_1</td><td>Second reconstruction </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classStitcherImpl.html#a15138bdc5faf1f3ed2180af684229699">StitcherImpl</a>.</p>

</div>
</div>
<a id="a7966fad8a90d12758dc3a9839bd5e4aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7966fad8a90d12758dc3a9839bd5e4aa">&#9670;&nbsp;</a></span>getMedian()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float OpenCVSIFT2DStitcher::getMedian </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>array</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gives the median of an array. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">array</td><td>Input sequence of values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Median value. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/egor/projects/vertical_stitching/src/stitcher/<a class="el" href="opencv__sift__2d__stitcher_8h_source.html">opencv_sift_2d_stitcher.h</a></li>
<li>/home/egor/projects/vertical_stitching/src/stitcher/opencv_sift_2d_stitcher.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
